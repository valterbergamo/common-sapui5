<core:FragmentDefinition
    xmlns:tnt="sap.tnt"
    xmlns="sap.m"
    xmlns:m="sap.m"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
>
    <Dialog
        id="openDialogLinkGroup"
        title="{i18n>linkGroupTitle}"
        contentWidth="500px"
        verticalScrolling="true"
        horizontalScrolling="false"
    >
        <content>
            <VBox class="sapUiSmallMargin">
                <IconTabBar
                    id="idIconTabBarMulti"
                    expanded="{device>/isNoPhone}"
                    class="sapUiResponsiveContentPadding"
                    backgroundDesign="Transparent"
                    select="onIconTabBarSelect"
                >
                    <items>
                        <IconTabFilter
                            key="group"
                            text="Agrupamento"
                        >
                            <f:SimpleForm
                                id="simpleForm"
                                editable="true"
                                layout="ResponsiveGridLayout"
                            >
                                <f:content />
                            </f:SimpleForm>
                        </IconTabFilter>
                        <IconTabFilter
                            id="idIconTabFilterProfile"
                            visible="false"
                            key="profiles"
                            text="Perfis"
                        >
                            <Input
                                id="AuthoridGroup"
                                visible="true"
                                maxLength="30"
                                app:SuggestionTable="/XCOP/TFSC_AUTH:Authorid.Authortitle"
                                app:DataType="CHAR"
                                app:Description="Perfil"
                                app:Leng="30"
                                app:Mask=""
                                app:Decimals=""
                                app:UpperCase=""
                                app:Valexi="X"
                                app:TableName=""
                                app:FieldName=""
                                app:Filter="Active EQ 'X' AND Lifnr EQ '' AND Bname EQ ''"
                                app:Submit="onAddGrouping"
                                showSuggestion="true"
                                showValueHelp="true"
                                submit="onSubmitInput"
                                change="onCheckInput"
                                suggest="onSuggest"
                                liveChange="onLiveChange"
                                valueHelpRequest="onSearchHelp"
                            />
                            <Text id="AuthoridGroupLabel" />
                        </IconTabFilter>
                        <IconTabFilter
                            id="idIconTabFilterGroupProfile"
                            visible="false"
                            key="groupsProfiles"
                            text="Grupos de perfis"
                        >

                        <Input
                                id="GroupidPF"
                                visible="true"
                                maxLength="30"
                                app:SuggestionTable="/XCOP/TFSC_GROUP:Groupid.Grouptitle"
                                app:DataType="CHAR"
                                app:Leng="30"
                                app:Mask=""
                                app:Decimals=""
                                app:UpperCase=""
                                app:Valexi="X"
                                app:TableName=""
                                app:FieldName=""
                                app:Filter="Active EQ 'X' AND Grouptype EQ 'PF'"
                                app:Submit="onAddGrouping"
                                showSuggestion="true"
                                showValueHelp="true"
                                submit="onSubmitInput"
                                change="onCheckInput"
                                suggest="onSuggest"
                                liveChange="onLiveChange"
                                valueHelpRequest="onSearchHelp"
                            />
                            <Text id="GroupidPFLabel" />

                        </IconTabFilter>
                    </items>
                </IconTabBar>

                <f:SimpleForm
                    id="simpleFormList"
                    editable="true"
                    layout="ResponsiveGridLayout"
                >
                    <f:content>
                        <List
                            id="ListGrouping"
                            includeItemInSelection="true"
                            mode="MultiSelect"
                        >
                            <headerToolbar>
                                <OverflowToolbar>
                                    <content>
                                        <ToolbarSpacer />
                                        <Button
                                            icon="sap-icon://multiselect-all"
                                            type="Default"
                                            press="onSelectAllList"
                                        />
                                        <Button
                                            icon="sap-icon://multiselect-none"
                                            type="Default"
                                            press="onDeselectAllList"
                                        />
                                        <Button
                                            icon="sap-icon://add"
                                            type="Default"
                                            id="ButtonAddGrouping"
                                            press="onAddGrouping"
                                        />
                                        <Button
                                            icon="sap-icon://delete"
                                            type="Default"
                                            press="onDelGrouping"
                                        />
                                    </content>
                                </OverflowToolbar>
                            </headerToolbar>
                        </List>
                    </f:content>
                </f:SimpleForm>
            </VBox>
        </content>
        <beginButton>
            <Button
                id="btCreateEntryGrouping"
                tooltip="Add"
                icon="sap-icon://save"
                text="Salvar"
                type="Emphasized"
                press="onSaveGrouping"
            />
        </beginButton>
        <endButton>
            <Button
                id="btCancelDialog"
                tooltip="Add"
                icon="sap-icon://cancel"
                text="Cancelar"
                type="Reject"
                press="_onCancelDialog"
            />
        </endButton>
    </Dialog>
</core:FragmentDefinition>
