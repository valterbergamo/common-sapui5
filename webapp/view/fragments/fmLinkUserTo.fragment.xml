<core:FragmentDefinition
    xmlns:tnt="sap.tnt"
    xmlns="sap.m"
    xmlns:m="sap.m"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
>
    <Dialog
        id="openDialogLinkUser"
        title="{i18n>linkUserTitle}"
        contentWidth="600px"
        verticalScrolling="false"
        horizontalScrolling="false"
    >
        <content>
            <VBox class="sapUiSmallMargin">
                <IconTabBar
                    id="idIconTabBarMulti"
                    expanded="{device>/isNoPhone}"
                    class="sapUiResponsiveContentPadding"
                    backgroundDesign="Transparent"
                    select="onIconTabBarSelect"
                >
                    <items>
                        <IconTabFilter
                            key="profiles"
                            text="Perfis"
                        >
                            <Input
                                id="Authorid"
                                visible="true"
                                maxLength="30"
                                app:SuggestionTable="/XCOP/TFSC_AUTH:Authorid.Authortitle"
                                app:DataType="CHAR"
                                app:Description="Perfil"
                                app:Leng="30"
                                app:Mask=""
                                app:Decimals=""
                                app:UpperCase=""
                                app:Valexi="X"
                                app:TableName=""
                                app:FieldName=""
                                app:Filter="Active EQ 'X' AND Lifnr EQ '' AND Bname EQ ''"
                                app:Submit="onAddLinkToUser"
                                showSuggestion="true"
                                showValueHelp="true"
                                submit="onSubmitInput"
                                change="onCheckInput"
                                suggest="onSuggest"
                                liveChange="onLiveChange"
                                valueHelpRequest="onSearchHelp"
                            />
                            <Text id="AuthoridLabel" />
                        </IconTabFilter>
                        <IconTabFilter
                            key="groupsProfiles"
                            text="Grupos de perfil"
                        >
                            <Input
                                id="GroupidPF"
                                visible="true"
                                maxLength="30"
                                app:SuggestionTable="/XCOP/TFSC_GROUP:Groupid.Grouptitle"
                                app:DataType="CHAR"
                                app:Leng="30"
                                app:Mask=""
                                app:Decimals=""
                                app:UpperCase=""
                                app:Valexi="X"
                                app:TableName=""
                                app:FieldName=""
                                app:Filter="Active EQ 'X' AND Grouptype EQ 'PF'"
                                app:Submit="onAddLinkToUser"
                                showSuggestion="true"
                                showValueHelp="true"
                                submit="onSubmitInput"
                                change="onCheckInput"
                                suggest="onSuggest"
                                liveChange="onLiveChange"
                                valueHelpRequest="onSearchHelp"
                            />
                            <Text id="GroupidPFLabel" />
                        </IconTabFilter>
                        <IconTabFilter
                            key="partners"
                            text="Parceiros"
                        >
                            <Input
                                id="Lifnr"
                                visible="true"
                                maxLength="30"
                                app:SuggestionTable="/XCOP/TFSC_LOGIN:Lifnr.Name1"
                                app:DataType="CHAR"
                                app:Leng="30"
                                app:Mask=""
                                app:Decimals=""
                                app:UpperCase=""
                                app:Valexi="X"
                                app:TableName=""
                                app:FieldName=""
                                app:Filter="Active EQ 'X'"
                                app:Submit="onAddLinkToUser"
                                showSuggestion="true"
                                showValueHelp="true"
                                submit="onSubmitInput"
                                change="onCheckInput"
                                suggest="onSuggest"
                                liveChange="onLiveChange"
                                valueHelpRequest="onSearchHelp"
                            />
                            <Text id="LifnrLabel" />
                        </IconTabFilter>
                        <IconTabFilter
                            key="groupsPartners"
                            text="Grupos de parceiros"
                        >
                            <Input
                                id="GroupidPR"
                                visible="true"
                                maxLength="30"
                                app:SuggestionTable="/XCOP/TFSC_GROUP:Groupid.Grouptitle"
                                app:DataType="CHAR"
                                app:Leng="30"
                                app:Mask=""
                                app:Decimals=""
                                app:UpperCase=""
                                app:Valexi="X"
                                app:TableName=""
                                app:FieldName=""
                                app:Filter="Active EQ 'X' AND Grouptype EQ 'PR'"
                                app:Submit="onAddLinkToUser"
                                showSuggestion="true"
                                showValueHelp="true"
                                submit="onSubmitInput"
                                change="onCheckInput"
                                suggest="onSuggest"
                                liveChange="onLiveChange"
                                valueHelpRequest="onSearchHelp"
                            />
                            <Text id="GroupidPRLabel" />
                        </IconTabFilter>
                    </items>
                </IconTabBar>

                <List
                    id="ListLinkToUser"
                    includeItemInSelection="true"
                    mode="MultiSelect"
                >
                    <headerToolbar>
                        <OverflowToolbar id="OverflowToolbarProfile">
                            <content>
                                <ToolbarSpacer />
                                <Button
                                    icon="sap-icon://multiselect-all"
                                    type="Default"
                                    press="onSelectAllList"
                                />
                                <Button
                                    icon="sap-icon://multiselect-none"
                                    type="Default"
                                    press="onDeselectAllList"
                                />
                                <Button
                                    icon="sap-icon://add"
                                    type="Default"
                                    id="ButtonAddGrouping"
                                    press="onAddLinkToUser"
                                />
                                <Button
                                    icon="sap-icon://delete"
                                    type="Default"
                                    press="onDelLinkToUser"
                                />
                            </content>
                        </OverflowToolbar>
                    </headerToolbar>
                </List>
            </VBox>
        </content>
        <beginButton>
            <Button
                tooltip="Salvar"
                icon="sap-icon://save"
                text="Salvar"
                type="Emphasized"
                press="onSaveLinkToUser"
            />
        </beginButton>
        <endButton>
            <Button
                tooltip="Cancelar"
                icon="sap-icon://cancel"
                text="Cancelar"
                type="Reject"
                press="_onCancelDialog"
            />
        </endButton>
    </Dialog>
</core:FragmentDefinition>
