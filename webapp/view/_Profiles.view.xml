<mvc:View
    controllerName="xcop.fsc.service.controller._Profiles"
    xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns:smartTable="sap.ui.comp.smarttable"
>
    <Page
        showHeader="true"
        title="{i18n>profilesViewTitle}"
    >
        <l:BlockLayout
            id="BlockLayout"
            background="Default"
        >
            <l:BlockLayoutRow>
                <l:BlockLayoutCell
                    backgroundColorSet="ColorSet9"
                    backgroundColorShade="ShadeA"
                    width="3"
                >
                    <smartTable:SmartTable
                        id="smartTableProfiles"
                        tableType="ResponsiveTable"
                        persistencyKey="xcop.fsc.service.profilesSet"
                        useVariantManagement="true"
                        showRowCount="true"
                        useExportToExcel="true"
                        showFullScreenButton="true"
                        useTablePersonalisation="true"
                        enableAutoBinding="true"
                        entitySet="profilesSet"
                        initiallyVisibleFields="Authorid,Authortitle,Description,Active"
                        ignoredFields=""
                        editTogglable="true"
                        app:useSmartField="true"
                        app:useSmartToggle="true"
                    >
                        <smartTable:customToolbar>
                            <OverflowToolbar
                                id="idOver"
                                design="Transparent"
                            >
                                <ToolbarSpacer />

                                <OverflowToolbarButton
                                    icon="sap-icon://refresh"
                                    id="btRefresh"
                                    press="onRefreshModel"
                                    visible="true"
                                />
                                <OverflowToolbarButton
                                    icon="sap-icon://delete"
                                    id="btDelete"
                                    press="onDeleteProfiles"
                                    visible="true"
                                />
                                <OverflowToolbarButton
                                    icon="sap-icon://save"
                                    id="btSave"
                                    press="onSaveModelSmart"
                                    visible="true"
                                />
                                <OverflowToolbarButton
                                    icon="sap-icon://add"
                                    id="btcreate"
                                    press="onCreateProfile"
                                    visible="true"
                                />
                            </OverflowToolbar>
                        </smartTable:customToolbar>

                        <smartTable:layoutData>
                            <FlexItemData
                                growFactor="15"
                                baseSize="0%"
                            />
                        </smartTable:layoutData>

                        <Table
                            id="tableAux"
                            mode="MultiSelect"
                            alternateRowColors="true"
                            growing="true"
                            growingThreshold="15"
                        >
                            <columns>
                                <Column id="StatusSelectC" visible="false">
                                    <customData>
                                        <core:CustomData
                                            key="p13nData"
                                            value='\{"columnKey": "StatusSelect", "leadingProperty": "Status", "columnIndex":"4"}'
                                        />
                                    </customData>
                                    <Text text="Status." />
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem
                                    type="Navigation"
                                    press="onSelectProfile"
                                    vAlign="Middle"
                                >
                                    <cells>
                                        <Select
                                            width="auto"
                                            id="StatusSelect"
                                            type="Default"
                                            valueState="None"
                                            forceSelection="false"
                                            showSecondaryValues="true"
                                            items="{ path: '/XCOP/FSC_STATUS>/results', templateShareable: true}"
                                            selectedKey="{Status}"
                                        >
                                            <core:ListItem
                                                key="{/XCOP/FSC_STATUS>Key}"
                                                text="{/XCOP/FSC_STATUS>Key}"
                                                additionalText="{/XCOP/FSC_STATUS>Title}"
                                            />
                                        </Select>
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </smartTable:SmartTable>
                </l:BlockLayoutCell>
            </l:BlockLayoutRow>
        </l:BlockLayout>
    </Page>
</mvc:View>
